<nav class="navbar navbar-dark navbar-expand-lg shadow py-3">
    <div class="container">
        <!-- Logo -->
        <a class="navbar__logo" href="@Url.Action("Index", "Home")">
            <img class="navbar__logo__img" src="@Url.Content("~/images/nags-with-notions-logo100x95px.webp")" alt="Nags With Notions logo">
        </a>

        <!-- Toggler for mobile -->
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navigation Links -->
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="@Url.Action("Gallery", "Home")">Gallery</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="@Url.Action("AllEvents", "Events")">Events</a>
                </li>

                <!-- If user is authenticated -->
                @if (User.Identity.IsAuthenticated)
                {
                    <li class="nav-item">
                        <a class="nav-link" href="@Url.Action("YourBookings", "Bookings")">Your Bookings</a>
                    </li>
                }

                <!-- If user has permission to create an event (role-based permission example) -->
                @if (User.IsInRole("EventCreator"))
                {
                    <li class="nav-item">
                        <a class="nav-link" href="@Url.Action("AddEvent", "Events")">Create Event</a>
                    </li>
                }

                <li class="nav-item">
                    <a href="#message" class="nav-link">Book Now!</a>
                </li>

                <!-- Dropdown for authenticated user -->
                @if (User.Identity.IsAuthenticated)
                {
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown">@User.Identity.Name</a>
                        <div class="dropdown-menu">
                            <form method="post" action="@Url.Action("Logout", "Account")">
                                @Html.AntiForgeryToken() <!-- CSRF Token -->
                                <button class="dropdown-item" type="submit">Sign out</button>
                            </form>
                        </div>
                    </li>
                }
                else
                {
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown">Account</a>
                        <div class="dropdown-menu">
                            <a class="dropdown-item btn-primary nav-link" href="@Url.Action("Login", "Account")">Login</a>
                        </div>
                    </li>
                }
            </ul>
        </div>
    </div>
</nav>
